<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <title>Campeões Brasileirão Série A - Século 21</title>
    <link rel="stylesheet" href="brasileiro.css">
    <link rel="icon" href="https://upload.wikimedia.org/wikipedia/pt/4/42/Campeonato_Brasileiro_Série_A_logo.png"
        type="image/png">
</head>

<body>
    <header>
        <h1>Campeões Brasileirão Série A - Século 21 </h1>
    </header>

    <nav>
        <ul class="menu">
            <li><a href="brasileiro.html">Início</a></li>
            <li><a href="brasileiro.html#campeoes-container">Campeões</a></li>
            <li><a href="brasileiro.html#sobre">Sobre</a></li>
            <li><a href="formulario.html">Formulario</a></li>
            <li><a href="customizacao.html">Customizar</a></li>
        </ul>
    </nav>
    <main id="inicio">
    <section class="champions-list">
        <h2>Lista de Campeões</h2>
        <button id="abrirFormularioBtn" class="botao-redirecionar" style="max-width: 250px; margin-bottom: 20px;">
            Adicionar Novo Campeão
        </button>
        <div id="campeoes-container">
        </div>
    </section>

    <section id="crud-form-section" class="newsletter-section" style="margin-top: 50px; display: none;">
        <h3 id="crud-title">Adicionar Novo Campeão</h3>
        <form id="crud-form">
            <fieldset>
                <legend style="display: none;">Dados do Campeão</legend>
                <input type="hidden" id="campeao-index"> <div class="form-group">
                    <label for="input-ano">Ano (ex: 2025):</label>
                    <input type="number" id="input-ano" name="ano" min="2001" required>
                </div>
                <div class="form-group">
                    <label for="input-clube">Clube Campeão:</label>
                    <input type="text" id="input-clube" name="clube" required>
                </div>
                <div class="form-group">
                    <label for="input-logo">URL do Logo:</label>
                    <input type="url" id="input-logo" name="logo" required>
                </div>
            </fieldset>

            <button type="submit" class="botao-submit" id="crud-submit-btn" style="margin-top: 15px;">
                Salvar Campeão
            </button>
            <button type="button" class="botao-submit" id="cancelar-crud-btn" style="background-color: #f44336;">
                Cancelar
            </button>
        </form>
    </section>

    <main id="inicio">
        <section class="champions-list">
            <h2>Lista de Campeões</h2>
            <div id="campeoes-container">
                </div>
        </section>

        <section id="sobre" class="history-section">
            <h2>História do Campeonato Brasileiro</h2>
            <div class="history-text">
                <p>O Campeonato Brasileiro de Futebol, também conhecido como Campeonato Brasileiro, Brasileirão e Série
                    A, é a liga brasileira de futebol profissional entre clubes do Brasil, sendo a principal competição
                    futebolística no país...</p>
                <p>A competição é disputada por 20 clubes e, desde 2003, adota o formato de pontos corridos, onde o time
                    que somar mais pontos ao final das 38 rodadas é declarado campeão nacional.</p>
            </div>
        </section>

        <a href="https://ge.globo.com/futebol/brasileirao-serie-a" class="botao-redirecionar" target="_blank">Tabela
            Brasileirão 2025</a>
    </main>

    <footer>
        <p>&copy; 2025 - Tabela dos Campeões</p>
    </footer>

    <div id="tabelaModal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="closeModalBtn">&times;</span>
            <h3 id="modalTitulo">Tabela do Campeonato de [Ano]</h3>
            <div id="modalTabelaContent">
            </div>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {

        const dadosIniciais = [
            { ano: 2024, clube: "Botafogo", logo: "https://upload.wikimedia.org/wikipedia/commons/5/52/Botafogo_de_Futebol_e_Regatas_logo.svg", tabela: null },
            { ano: 2023, clube: "Palmeiras", logo: "https://upload.wikimedia.org/wikipedia/commons/1/10/Palmeiras_logo.svg", tabela: [{ pos: 1, time: "Palmeiras", p: 70, j: 38, v: 20, e: 10, d: 8, gp: 64, gc: 33, sg: 31 }, { pos: 2, time: "Grêmio", p: 68, j: 38, v: 21, e: 5, d: 12, gp: 63, gc: 56, sg: 7 }, { pos: 3, time: "Atlético Mineiro", p: 66, j: 38, v: 19, e: 9, d: 10, gp: 52, gc: 32, sg: 20 }, { pos: 4, time: "Flamengo", p: 66, j: 38, v: 19, e: 9, d: 10, gp: 56, gc: 42, sg: 14 }, { pos: 5, time: "Botafogo", p: 64, j: 38, v: 18, e: 10, d: 10, gp: 58, gc: 37, sg: 21 }] },
            { ano: 2022, clube: "Palmeiras", logo: "https://upload.wikimedia.org/wikipedia/commons/1/10/Palmeiras_logo.svg", tabela: [{ pos: 1, time: "Palmeiras", p: 81, j: 38, v: 23, e: 12, d: 3, gp: 68, gc: 27, sg: 41 }, { pos: 2, time: "Internacional", p: 73, j: 38, v: 20, e: 13, d: 5, gp: 58, gc: 31, sg: 27 }, { pos: 3, time: "Fluminense", p: 70, j: 38, v: 21, e: 7, d: 10, gp: 63, gc: 41, sg: 22 }, { pos: 4, time: "Corinthians", p: 65, j: 38, v: 18, e: 11, d: 9, gp: 44, gc: 36, sg: 8 }, { pos: 5, time: "Flamengo", p: 61, j: 38, v: 18, e: 7, d: 13, gp: 60, gc: 42, sg: 18 }] },
            { ano: 2021, clube: "Atlético Mineiro", logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/5/5f/Atletico_mineiro_galo.png/250px-Atletico_mineiro_galo.png", tabela: null },
            { ano: 2020, clube: "Flamengo", logo: "https://upload.wikimedia.org/wikipedia/commons/2/2e/Flamengo_braz_logo.svg", tabela: null },
            { ano: 2019, clube: "Flamengo", logo: "https://upload.wikimedia.org/wikipedia/commons/2/2e/Flamengo_braz_logo.svg", tabela: null },
            { ano: 2018, clube: "Palmeiras", logo: "https://upload.wikimedia.org/wikipedia/commons/1/10/Palmeiras_logo.svg", tabela: null },
            { ano: 2017, clube: "Corinthians", logo: "https://upload.wikimedia.org/wikipedia/pt/b/b4/Corinthians_simbolo.png", tabela: null },
            { ano: 2016, clube: "Palmeiras", logo: "https://upload.wikimedia.org/wikipedia/commons/1/10/Palmeiras_logo.svg", tabela: null },
            { ano: 2015, clube: "Corinthians", logo: "https://upload.wikimedia.org/wikipedia/pt/b/b4/Corinthians_simbolo.png", tabela: null },
            { ano: 2014, clube: "Cruzeiro", logo: "https://upload.wikimedia.org/wikipedia/commons/9/90/Cruzeiro_Esporte_Clube_%28logo%29.svg", tabela: null },
            { ano: 2013, clube: "Cruzeiro", logo: "https://upload.wikimedia.org/wikipedia/commons/9/90/Cruzeiro_Esporte_Clube_%28logo%29.svg", tabela: null },
            { ano: 2012, clube: "Fluminense", logo: "https://upload.wikimedia.org/wikipedia/commons/a/ad/Fluminense_FC_escudo.png", tabela: null },
            { ano: 2011, clube: "Corinthians", logo: "https://upload.wikimedia.org/wikipedia/pt/b/b4/Corinthians_simbolo.png", tabela: null },
            { ano: 2010, clube: "Fluminense", logo: "https://upload.wikimedia.org/wikipedia/commons/a/ad/Fluminense_FC_escudo.png", tabela: null },
            { ano: 2009, clube: "Flamengo", logo: "https://upload.wikimedia.org/wikipedia/commons/2/2e/Flamengo_braz_logo.svg", tabela: null },
            { ano: 2008, clube: "São Paulo", logo: "https://upload.wikimedia.org/wikipedia/commons/6/6f/Brasao_do_Sao_Paulo_Futebol_Clube.svg", tabela: null },
            { ano: 2007, clube: "São Paulo", logo: "https://upload.wikimedia.org/wikipedia/commons/6/6f/Brasao_do_Sao_Paulo_Futebol_Clube.svg", tabela: null },
            { ano: 2006, clube: "São Paulo", logo: "https://upload.wikimedia.org/wikipedia/commons/6/6f/Brasao_do_Sao_Paulo_Futebol_Clube.svg", tabela: null },
            { ano: 2005, clube: "Corinthians", logo: "https://upload.wikimedia.org/wikipedia/pt/b/b4/Corinthians_simbolo.png", tabela: null },
            { ano: 2004, clube: "Santos", logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/3/35/Santos_logo.svg/1200px-Santos_logo.svg.png", tabela: null },
            { ano: 2003, clube: "Cruzeiro", logo: "https://upload.wikimedia.org/wikipedia/commons/9/90/Cruzeiro_Esporte_Clube_%28logo%29.svg", tabela: null },
            { ano: 2002, clube: "Santos", logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/3/35/Santos_logo.svg/1200px-Santos_logo.svg.png", tabela: null },
            { ano: 2001, clube: "Athletico Paranaense", logo: "https://upload.wikimedia.org/wikipedia/commons/4/43/Athletico_Paranaense_%28Logo_2019%29.svg", tabela: null }
        ];

        const container = document.getElementById('campeoes-container');
        const modal = document.getElementById('tabelaModal');
        const closeModalBtn = document.getElementById('closeModalBtn');
        const modalTitulo = document.getElementById('modalTitulo');
        const modalTabelaContent = document.getElementById('modalTabelaContent');


        const crudFormSection = document.getElementById('crud-form-section');
        const crudForm = document.getElementById('crud-form');
        const crudTitle = document.getElementById('crud-title');
        const crudSubmitBtn = document.getElementById('crud-submit-btn');
        const abrirFormularioBtn = document.getElementById('abrirFormularioBtn');
        const cancelarCrudBtn = document.getElementById('cancelar-crud-btn');
        const inputAno = document.getElementById('input-ano');
        const inputClube = document.getElementById('input-clube');
        const inputLogo = document.getElementById('input-logo');
        const campeaoIndexInput = document.getElementById('campeao-index');


        //(Local Storage)

        function carregarCampeoes() {
            const dadosSalvos = localStorage.getItem('campeoesBrasileirao');
            if (dadosSalvos) {
                return JSON.parse(dadosSalvos);
            }
            salvarCampeoes(dadosIniciais);
            return dadosIniciais;
        }

        function salvarCampeoes(campeoesArray) {
            localStorage.setItem('campeoesBrasileirao', JSON.stringify(campeoesArray));
        }
        
        function getCampeoes() {
             return carregarCampeoes();
        }


        function salvarCampeao(campeao) {
            let campeoes = getCampeoes();
            const index = campeaoIndexInput.value;

            if (index !== '') {
                campeoes[index] = campeao;
            } else {
                campeoes.push({ ...campeao, tabela: null });
            }
            salvarCampeoes(campeoes);
            renderizarCampeoes(); 
            esconderFormulario();
        }

        function excluirCampeao(index) {
            if (confirm('Tem certeza que deseja excluir este campeão?')) {
                let campeoes = getCampeoes();
                campeoes.splice(index, 1);
                salvarCampeoes(campeoes);
                renderizarCampeoes(); 
            }
        }
        
        function editarCampeao(index) {
            const campeao = getCampeoes()[index];
            if (!campeao) return;
            
            inputAno.value = campeao.ano;
            inputClube.value = campeao.clube;
            inputLogo.value = campeao.logo;
            campeaoIndexInput.value = index; 

            crudTitle.textContent = `Editar Campeão de ${campeao.ano}`;
            crudSubmitBtn.textContent = 'Atualizar Campeão';
            
            crudFormSection.style.display = 'block';
            window.scrollTo({ top: crudFormSection.offsetTop - 50, behavior: 'smooth' });
        }

        function esconderFormulario() {
            crudForm.reset();
            campeaoIndexInput.value = ''; 
            crudTitle.textContent = 'Adicionar Novo Campeão';
            crudSubmitBtn.textContent = 'Salvar Campeão';
            crudFormSection.style.display = 'none';
        }


        function renderizarCampeoes() {
            container.innerHTML = '';
            const campeoes = getCampeoes();
            const campeoesOrdenados = campeoes.sort((a, b) => b.ano - a.ano);

            campeoesOrdenados.forEach((campeao, index) => {
                const card = document.createElement('div');
                card.classList.add('campeao-card');
                
                const realIndex = getCampeoes().findIndex(c => c.ano === campeao.ano);

                const logoImg = document.createElement('img');
                logoImg.classList.add('clube-logo');
                logoImg.src = campeao.logo;
                logoImg.alt = `Logo do ${campeao.clube}`;
                card.appendChild(logoImg);

                const anoElement = document.createElement('p');
                anoElement.classList.add('ano');
                anoElement.textContent = campeao.ano;
                card.appendChild(anoElement);

                const clubeElement = document.createElement('p');
                clubeElement.classList.add('clube');
                clubeElement.textContent = campeao.clube;
                card.appendChild(clubeElement);
                

                const crudButtonsDiv = document.createElement('div');
                crudButtonsDiv.style.marginTop = '10px';
                crudButtonsDiv.style.display = 'flex';
                crudButtonsDiv.style.justifyContent = 'space-around';
                crudButtonsDiv.style.gap = '5px';

               
                const editBtn = document.createElement('button');
                editBtn.textContent = 'Editar';
                editBtn.style.padding = '5px';
                editBtn.style.backgroundColor = '#ff9800';
                editBtn.style.color = 'white';
                editBtn.style.border = 'none';
                editBtn.style.borderRadius = '3px';
                editBtn.style.cursor = 'pointer';
                editBtn.style.fontSize = '0.75rem';
                editBtn.addEventListener('click', (e) => {
                    e.stopPropagation(); 
                    editarCampeao(realIndex);
                });
              
                const deleteBtn = document.createElement('button');
                deleteBtn.textContent = 'Excluir';
                deleteBtn.style.padding = '5px';
                deleteBtn.style.backgroundColor = '#f44336'; 
                deleteBtn.style.color = 'white';
                deleteBtn.style.border = 'none';
                deleteBtn.style.borderRadius = '3px';
                deleteBtn.style.cursor = 'pointer';
                deleteBtn.style.fontSize = '0.75rem';
                deleteBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    excluirCampeao(realIndex);
                });
                
                crudButtonsDiv.appendChild(editBtn);
                crudButtonsDiv.appendChild(deleteBtn);
                card.appendChild(crudButtonsDiv);

                
                card.addEventListener('click', () => {
                    modalTitulo.textContent = `Tabela do Campeonato Brasileiro de ${campeao.ano}`;
                    modalTabelaContent.innerHTML = gerarTabela(campeao);
                    modal.style.display = 'block';
                });

                container.appendChild(card);
            });
        }
        
       
        function gerarTabela(campeao) {
            let tabelaHTML = '';
            const dadosReais = campeao.tabela;
            const clubeCampeao = campeao.clube;
            const ano = campeao.ano;

            tabelaHTML += `
                <table>
                    <thead>
                        <tr>
                            <th>Pos.</th>
                            <th>Time</th>
                            <th>P</th>
                            <th>J</th>
                            <th>V</th>
                            <th>E</th>
                            <th>D</th>
                            <th>GP</th>
                            <th>GC</th>
                            <th>SG</th>
                        </tr>
                    </thead>
                    <tbody>
            `;

            if (dadosReais) {
                tabelaHTML += `<p><strong>Tabela Final do Campeonato Brasileiro de ${ano}</strong> (Top 5).</p>`;
                dadosReais.forEach(linha => {
                    tabelaHTML += `
                        <tr>
                            <td>${linha.pos}</td>
                            <td class="${linha.pos === 1 ? 'campeao-row' : ''}">${linha.time}</td>
                            <td>${linha.p}</td>
                            <td>${linha.j}</td>
                            <td>${linha.v}</td>
                            <td>${linha.e}</td>
                            <td>${linha.d}</td>
                            <td>${linha.gp}</td>
                            <td>${linha.gc}</td>
                            <td>${linha.sg}</td>
                        </tr>
                    `;
                });
            } else {
              
                const timesBrasileiros = ["Grêmio", "Internacional", "Santos", "São Paulo", "Cruzeiro", "Atlético-MG", "Fluminense", "Vasco", "Ceará", "Bahia", "Sport", "Fortaleza", "Red Bull Bragantino", "Coritiba", "Santa cruz", "CRB", "Cuiabá", "Goiás", "Chapecoense", "Paraná"];
                const timesDisponiveis = timesBrasileiros.filter(time => time !== clubeCampeao);
                const timesRestantes = [];
                const offset = ano % timesDisponiveis.length;

                for (let i = 0; i < 4; i++) {
                    const index = (offset + i) % timesDisponiveis.length;
                    timesRestantes.push(timesDisponiveis[index]);
                }

                const timesParaTabela = [clubeCampeao, ...timesRestantes.slice(0, 4)];
                const pontuacoes = [75, 70, 65, 60, 55];

                tabelaHTML += `<p><strong>Tabela do Campeonato Brasileiro de ${ano}</strong> (Simulação - Top 5, dados reais não disponíveis).</p>`;
                timesParaTabela.forEach((time, index) => {
                    const pontos = pontuacoes[index];
                    const isCampeao = index === 0;
                    const v = Math.floor(pontos / 2.5);
                    const d = Math.floor(38 - v - (pontos / 5));
                    const e = 38 - v - d;
                    const gp = pontos + 25;
                    const gc = pontos - 5;
                    const sg = gp - gc;

                    tabelaHTML += `
                        <tr>
                            <td>${index + 1}</td>
                            <td class="${isCampeao ? 'campeao-row' : ''}">${time}</td>
                            <td>${pontos}</td>
                            <td>38</td>
                            <td>${v}</td>
                            <td>${e}</td>
                            <td>${d}</td>
                            <td>${gp}</td>
                            <td>${gc}</td>
                            <td>${sg}</td>
                        </tr>
                    `;
                });
            }

            tabelaHTML += `
                    </tbody>
                </table>
            `;
            return tabelaHTML;
        }

        
        abrirFormularioBtn.addEventListener('click', () => {
            esconderFormulario(); 
            crudFormSection.style.display = 'block';
            window.scrollTo({ top: crudFormSection.offsetTop - 50, behavior: 'smooth' });
        });

        
        cancelarCrudBtn.addEventListener('click', esconderFormulario);


        
        crudForm.addEventListener('submit', (e) => {
            e.preventDefault();

            const novoCampeao = {
                ano: parseInt(inputAno.value),
                clube: inputClube.value,
                logo: inputLogo.value,
            };
            salvarCampeao(novoCampeao);
        });


     
        closeModalBtn.addEventListener('click', () => {
            modal.style.display = 'none';
        });

        window.addEventListener('click', event => {
            if (event.target == modal) {
                modal.style.display = 'none';
            }
        });

        
        const formularioForm = document.getElementById('formulario-form');
        const formMessage = document.getElementById('form-message');

        formularioForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const nome = document.getElementById('nome').value;
            const email = document.getElementById('email').value;

            formMessage.style.display = 'block';
            formMessage.style.color = '#004d40';
            formMessage.textContent = `Obrigado, ${nome}! Seu email (${email}) foi registrado para a nossa newsletter.`;
            newsletterForm.reset();
        });


      
        const fontSizeSelectSimple = document.getElementById('font-size-select-simple');
        const headerColorInputSimple = document.getElementById('header-color-input-simple');
        const body = document.body;
        const header = document.querySelector('header');

        fontSizeSelectSimple.addEventListener('change', (e) => {
            body.classList.remove('font-small', 'font-medium', 'font-large');
            body.classList.add(`font-${e.target.value}`);
        });

        headerColorInputSimple.addEventListener('input', (e) => {
            const newColor = e.target.value;
            header.style.backgroundColor = newColor;
        });
        
     
        renderizarCampeoes();
    });
</script>
</body>

</html>